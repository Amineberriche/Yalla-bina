{% extends 'base.html.twig' %}

{% block title %}Hello SearchController!{% endblock %}

{% block body %}
    
  <div class="backgroung">
      
        <h1>Voyager sans limites avec Yalla-Bina</h1>
        <div class="barderecherche">
		{{ form_start(form) }}
		 {{form_widget(form.depart, {'id':'Border' , 'attr': {'placeholder': 'Départ', 'style' : 'color:#2f67be !important'}})}}
         {{form_widget(form.arrivee, {'id':'Border', 'attr': {'placeholder': 'Destination'}})}}
         {{form_widget(form.date_depart, {'name' : 'trip-start','id':'Border'})}}
       <button id="recherche"><i class="fas fa-search"></i></button>
    </div>
    </div>
    {{ form_end(form) }}
    {% if tragets %}
        {% for traget in tragets %}
        <form method = "POST" action = "reserveration">

        	<table class="styled-table">
          {% if traget.passager > 0 %}
							<tr>
								<th rowspan="2"><img src="assets/images/car1.png"></th>
                 <input type = "hidden" value = {{traget.getIdtraget()}} name="tragetid">
								<th>{{traget.getDateDepart()|date('d/m/Y')}}</th>
								<th>{{traget.depart}}</th>
								<th><i class='fas fa-route' style='font-size:48px;'></i></th>
								<th>{{traget.arrivee}}</th>
								<th>{{traget.passager}} places</th>
								<th>{{traget.prix}} DH</th>
							</tr>
							<tr>
							<h3>
								<td>{{traget.User.getNom}} {{traget.User.getPrenom}}</td>
								<td></td>
								<td></td>
								<td></td>
								<td><input type = "number" name = "nbrplaces" min="1" max="{{traget.passager}}" required ></td>
								<td><button  type="submit" > Réserver </button></td>
							</h3>
							</tr>
              {% endif %}
						</table>
            </form>
        {% endfor %}

  {% else %}
  <div  style ="text-align: center;">
    <h1>Il n'y a pas encore de trajet disponible entre ces villes</h1>
    <img src="assets/images/aucun-résultat.png" alt="login" style = "width : 20%">
    <div>
  {% endif %} 

    <script
    src="https://use.fontawesome.com/releases/v5.15.3/js/all.js"
    data-auto-a11y="true">
	<script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>

    </script>
    
    <style>
    ::placeholder {
      color:#2f67be !important;
    }
        .styled-table {
	border-collapse: collapse;
	margin: 25px 0;
	font-family: 'Montserrat', sans-serif;
	max-width: 1000px;
	min-width: 400px;
	box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
	border-radius: 4px;
	color: #404E67;
    margin-left: 16%;
  }
  .styled-table  tr {
  
	text-align: center;
  }
  .styled-table th {
	padding: 12px 25px;
	font-size:  1.37rem;
	text-align: center;
	width: 35%;
  }
  .styled-table td {
	  padding: 12px 25px;
	  font-family: "Consolas", sans-serif;
	  font-size: 15.3px;
  }
  .styled-table  tr {
	border-bottom: 1px solid #dddddd;
  }
  .styled-table  tr td button {
	background-color:rgb(111, 189, 245) ;
	border: none;
	color: white;
	padding: 10px;
	text-align: center;
	text-decoration: none;
	display: inline-block;
	font-size: 16px;
	margin: 4px 2px;
	cursor: pointer;
	border-radius: 4px;
  }
  .styled-table  tr td button:hover {
	background-color: rgb(120,198,255);
	color: white;
  
  }
  @import url(http://fonts.googleapis.com/css?family=Roboto:100,400,700);
@import url(http://fonts.googleapis.com/css?family=Roboto+Slab);
*{
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    
}
.backgroung {
    width: 100%;
    height: 40vh;
    background: center/cover  url("assets/images/Backgroung.jpg") 
}
.backgroung h1{
    color:#fff;
    position: relative;
    padding: 30px;
    margin: 30px;
    top: 20%;
    left: 15px;
    
}
.barderecherche{
    
    position: static;
    background-color: #F2F4F4;
    padding: 10px;
    margin: 70px;
    width: 70%;
    left: 30%;
    border-radius: 5px;
}

.barderecherche input{  
    margin: 0%;
    width: 30%;
    height: 40px;
    border: none;
    background-color:#F2F4F4 ;
    
    
}
::placeholder {
    color:#2f67be ;
    font-size: 20px;
    font-family: "Font Awesome 5 Free";
    font-weight: 900;
    content: "\f007";
}

.barderecherche #recherche{
    background-color:#2f67be ;
    border: none;
    color: white;
    height: 40px;
    width: 8%;
    border-radius: 5px;
}
.barderecherche #Border {
    border-left: 2px solid #c0c0c0;
}
    </style>
{% endblock %}
